# Part III: Nova and Folding (1/2)

# å›é¡¾

1. å…ˆå¼•å…¥snark
2. 
3. è®²äº†å¢é‡å¯éªŒè¯è®¡ç®—IVCã€‚åœ¨è®¡ç®—çš„ä¸€è¿ä¸²æ­¥éª¤ä¸­ï¼Œæ¯ä¸€æ­¥ä¸ä»…è¦æ¥æ”¶ä¸Šä¸€æ­¥çš„è¾“å‡ºï¼Œå¯¹å…¶æ‰§è¡Œè¿ç®—ï¼Œå¹¶å°†ç»“æœä½œä¸ºè¾“å…¥è¾“å…¥åˆ°ä¸‹ä¸€æ­¥ï¼Œè¿˜è¦æ¥æ”¶ä¸Šä¸€æ­¥çš„è¯æ˜ï¼ˆæ–­è¨€åŒ…æ‹¬ä¸Šä¸€æ­¥åœ¨å†…çš„æ‰€æœ‰æ­¥éª¤éƒ½æ˜¯æ­£ç¡®çš„ï¼‰ã€‚å®ƒè¿˜ä¼šä¸ºä¸‹ä¸€æ­¥æä¾›ä¸€ä¸ªè¯æ˜ï¼Œè¯æ˜ä¸Šä¸€æ­¥æä¾›ç»™å®ƒçš„è¯æ˜æ˜¯æ­£ç¡®çš„ï¼Œè€Œä¸”è¿™ä¸€æ­¥æœ¬èº«ä¹Ÿæ˜¯æ­£ç¡®æ‰§è¡Œçš„ã€‚

1. æ¯ä¸€æ­¥éƒ½è¦å°†ä¸Šä¸€æ­¥è¯æ˜çš„éªŒè¯ç”µè·¯æ·»åŠ åˆ°ä¸‹ä¸€æ­¥è¦è¯æ˜çš„è¯­å¥ä¸­ã€‚è¿™è¦ä¹ˆä¼šå¯¼è‡´ä¸€ä¸ªæ ‡é‡å› å­ `scalar factor`çš„çˆ†ç‚¸ï¼ˆç”µè·¯å‘ˆæŒ‡æ•°å¢é•¿ï¼‰ã€‚ç´¯ç§¯ `accumulate`æ–¹æ¡ˆæä¾›äº†ä¸€æ¡å‡ºè·¯ï¼Œå®ƒå…è®¸æˆ‘ä»¬å°†æ¯ä¸ªéªŒè¯æ­¥éª¤ä¸­ä»£ä»·é«˜æ˜‚çš„éƒ¨åˆ†æ¨è¿Ÿåˆ°ç¨åè¿›è¡Œã€‚

novaæ˜¯åœ¨accumulateçš„åŸºç¡€ä¸Šåšäº†ä¼˜åŒ–ï¼Œç”¨foldæŠ€æœ¯ï¼ŒæŠ˜å å…¨éƒ¨è¯æ˜ï¼Œè€Œä¸æ˜¯åªç§¯ç´¯æ˜‚è´µçš„éƒ¨åˆ†ã€‚å°†ä¸¤ä¸ªæ­¥éª¤çš„éªŒè¯ç®€åŒ–ä¸ºä¸€ä¸ªæ­¥éª¤çš„éªŒè¯ã€‚

# **What is a computation?**

å¯¹äºç»™å®šçš„è®¡ç®— ğ¶ï¼Œæˆ‘ä»¬å£°ç§°æˆ‘ä»¬çŸ¥é“ä¸€ä¸ªè¾“å…¥ï¼Œåœ¨æ­£ç¡®æ‰§è¡Œè®¡ç®—åï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°æŸä¸ªå…¬å…±è¾“å‡º ğ’´ã€‚æˆ‘ä»¬å°†æŠŠè¾“å…¥å’Œæ‰§è¡Œè½¨è¿¹ï¼ˆæ¶µç›–æ­£ç¡®æ‰§è¡Œçš„æ¦‚å¿µï¼‰ç§°ä¸ºè§è¯ğ‘¤ã€‚é™¤è§è¯å¤–ï¼Œè®¡ç®—ä¸­å¯èƒ½è¿˜æœ‰å…¶ä»–å…¬å…±è¾“å…¥ xã€‚å› æ­¤ï¼Œåœ¨ç»™å®šå…¬å…±è¾“å…¥ x å’Œè¾“å‡ºğ’´ çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¸Œæœ›è¯æ˜æˆ‘ä»¬çŸ¥é“æœ‰ä¸€ä¸ª `witness` ğ‘¤ æ¥å®Œæˆæ•´ä¸ªè¿‡ç¨‹ã€‚

è®¡ç®—å¯ä»¥æ˜¯ä¸€è¿ä¸²çš„ç®—æœ¯è¿ç®—ï¼ˆåŠ æ³•ã€ä¹˜æ³•ç­‰ï¼‰ï¼Œä¹Ÿå¯ä»¥æ¶‰åŠæ¡ä»¶è¯­å¥ç­‰æ›´å¤æ‚çš„ç»“æ„ã€‚æˆ‘ä»¬å¿…é¡»å®šä¹‰è®¡ç®—çš„å«ä¹‰ä»¥åŠå¦‚ä½•è¡¨ç¤ºè®¡ç®—ã€‚

æœ€ç®€å•çš„è¡¨è¾¾æ–¹å¼æ˜¯ä½¿ç”¨ä¼ªä»£ç æˆ–æŸç§é«˜çº§ç¼–ç¨‹è¯­è¨€ï¼ˆPythonã€C++ ç­‰ï¼‰ã€‚ç„¶è€Œï¼Œè¿™å¹¶ä¸é€‚åˆæˆ‘ä»¬ä¹‹åè¦åšçš„äº‹æƒ…ï¼Œå³è·å¾—ä¸€ä¸ªç®€æ´çš„éäº¤äº’å¼è¯æ˜ã€‚äº‹å®è¯æ˜ï¼Œæˆ‘ä»¬æ€»èƒ½å°†è®¡ç®—è½¬åŒ–ä¸ºç®—æœ¯å¯æ»¡è¶³æ€§é—®é¢˜ã€‚å› æ­¤ï¼Œç»™å®šå…¬å…±è¾“å…¥ x å’Œå…¬å…±è¾“å‡º ğ’´ï¼ˆä½ å¯ä»¥æŠŠå®ƒä»¬æƒ³è±¡æˆæœ‰é™åŸŸä¸Šé•¿åº¦ä¸º n å’Œ m çš„å‘é‡ï¼Œæ¯”å¦‚æ•´æ•°å…ƒç´ çš„åºåˆ—ï¼Œæ¨¡æ•°ä¸ºç´ æ•° pï¼‰ï¼Œä»¥åŠ n+k ä¸ªå˜é‡çš„ m é˜¶å¤šé¡¹å¼ç³»ç»Ÿ ğ¶ï¼Œæˆ‘ä»¬æƒ³è¯æ˜æˆ‘ä»¬çŸ¥é“ä¸€ä¸ªè¯äºº ğ‘¤ï¼ˆæœ‰é™åŸŸä¸Šé•¿åº¦ä¸º k çš„å‘é‡ï¼‰ï¼Œä½¿å¾—

$ğ¶ (x, ğ‘¤) =Â y$

åœ¨ x = (xâ‚,..., xâ‚™) å’Œ ğ‘¤ = (ğ‘¤â‚,..., ğ‘¤â‚–)ç»„æˆçš„ n + k å…ƒç»„å¤„å¯¹ m å¤šé¡¹å¼é›†åˆ ğ¶ è¿›è¡Œæ±‚å€¼ï¼Œå¾—åˆ° m å…ƒç»„ ğ’´ = (ğ’´â‚,..., ğ’´â‚˜)ã€‚è¿™ç§è¡¨ç¤ºæ³•æ›´é€‚äºåˆ›å»ºè¯æ˜ã€‚é€‚äºè¯æ˜çš„è¡¨ç¤ºæ³•æœ‰è®¸å¤šå˜ç§ï¼Œç§°ä¸ºä¸­é—´è¡¨ç¤ºæ³•ã€‚ä¸‹é¢æˆ‘ä»¬å°†é›†ä¸­è®¨è®ºä¸€ç§æµè¡Œçš„ä¸­é—´è¡¨ç¤ºæ³•ï¼Œå³Â **rank-1 constraint system**ï¼ˆR1CSï¼‰ã€‚

æå‡ºå¥½çš„ä¸­é—´è¡¨ç¤ºæ³•å¹¶å°†è®¡ç®—æœºç¨‹åºè½¬åŒ–ä¸ºè¿™äº›è¡¨ç¤ºæ³•æœ¬èº«å°±æ˜¯ä¸€é—¨è‰ºæœ¯ã€‚å¯¹äºæŸäº›è®¡ç®—æ¥è¯´ï¼Œè¿™æ˜¯ç«‹ç«¿è§å½±çš„ã€‚ä¾‹å¦‚ï¼Œå¦‚æœè®¡ç®—çš„æ˜¯çŸ©é˜µä¹˜æ³•ï¼Œæˆ‘ä»¬åªéœ€å°†å¯¹çŸ©é˜µé¡¹è¿›è¡Œçš„è¿ç®—å†™æˆå¤šé¡¹å¼å³å¯ã€‚å¯¹äºå…¶ä»–è®¡ç®—ï¼Œä¾‹å¦‚æ¡ä»¶è¯­å¥ï¼Œè¿™å°†æ›´åŠ æ£˜æ‰‹ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾æˆ‘ä»¬æ£€æŸ¥ä¸€ä¸ªä½ bï¼Œæ ¹æ®å®ƒæ˜¯ 0 è¿˜æ˜¯ 1ï¼Œè®©å˜é‡ c æˆä¸º aÂ² æˆ– aÂ³ï¼š

```rust
if b == 0 then c = aÂ²;
else c = aÂ³;
```

ç”¨å¤šé¡¹å¼è¡¨ç¤ºï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶æ”¹å†™ä¸º

$cÂ = (1-b) *Â aÂ² +Â bÂ *Â aÂ³$
å…³äºå°†è®¡ç®—æœºç¨‹åºè½¬åŒ–ä¸ºä¸­é—´è¡¨ç¤ºæ³•çš„ç»†èŠ‚ï¼Œæˆ‘ä»¬å°†ç•™å¾…ä¸‹ä¸€ç¯‡æ–‡ç« è®¨è®ºã€‚ä¹Ÿå¯ä»¥å…ˆçœ‹è¿™ä¸ªï¼šVç¥å†™çš„[**Quadratic Arithmetic Programs: from Zero to Hero**](Halo%20and%20Accumulation%2087e35b7add7d447ab19e7f26d43132ef.md)

# **Rank 1 Constraint Systems (R1CS)**

è®©æˆ‘ä»¬å›åˆ°ä¸­é—´è¡¨ç¤º R1CSï¼ˆåˆç§° QAP - äºŒæ¬¡ç®—æœ¯ç¨‹åºï¼‰çš„å®šä¹‰ä¸Šæ¥ã€‚

è¿™äº›æ˜¯ç‰¹å®šå½¢çŠ¶çš„ç®—æœ¯ç”µè·¯ï¼ˆå¤šé¡¹å¼æ–¹ç¨‹ï¼‰ï¼š

æˆ‘ä»¬å°†å¸¸æ•° 1ã€å…¬å…±è¾“å…¥å‘é‡ $x = (xâ‚,......,xâ‚™)$ã€å…¬å…±è¾“å‡ºå‘é‡ $ğ’´ = (ğ’´â‚,......, ğ’´â‚˜)$å’Œwitness $ğ‘¤ = (ğ‘¤â‚,......, ğ‘¤â‚–)$ åˆå¹¶ä¸ºå•ä¸€å‘é‡

$z = (zâ‚,â€¦, záµ£) = (1, xâ‚,â€¦, xâ‚™, y_1,...y_m, ğ‘¤â‚,â€¦, ğ‘¤â‚–)$

`æ³¨æ„ï¼šæˆ‘ä»¬è¦æ±‚ zâ‚ = 1ï¼Œr = 1 + n + m + kã€‚`

æˆ‘ä»¬åªå…è®¸å°† $zâ‚,...,záµ£$ ä¸­çš„äºŒæ¬¡ï¼ˆ2 åº¦ï¼‰å¤šé¡¹å¼ä½œä¸ºå®šä¹‰ç®—æœ¯ç”µè·¯çš„å¤šé¡¹å¼é›†ï¼Œå› æ­¤ç§°ä¸ºäºŒæ¬¡ç®—æœ¯ç¨‹åºã€‚ç”±äºæˆ‘ä»¬å°†å…¬å…±è¾“å‡ºğ’´áµ¢ ç§»åˆ°äº†å‘é‡ z ä¸­ï¼Œå› æ­¤æˆ‘ä»¬è®¾ç½®å³è¾¹ç­‰äºé›¶ã€‚å› æ­¤ï¼Œç³»ç»Ÿä¸­çš„æ¯ä¸ªå¤šé¡¹å¼çœ‹èµ·æ¥éƒ½æ˜¯è¿™æ ·çš„

$A \cdot z_1^2+B \cdot z_1z_2+â€¦(all \ degree \ 2 \ terms)  \\ + a \cdot z_1 + b \cdot z_2+ ...(all degree 1 terms) =0\\+const.(degree 0 terms)$

ç”±äº zâ‚ = 1ï¼Œæˆ‘ä»¬å®é™…ä¸Šä¸éœ€è¦å¸¸æ•°ï¼ˆé›¶åº¦ï¼‰é¡¹ã€‚

åœ¨ç§© 1 çº¦æŸç³»ç»Ÿä¸­ï¼Œåªå…è®¸ç‰¹å®šç±»å‹çš„äºŒæ¬¡å¤šé¡¹å¼  `å‚ç…§ä¸‹é¢çš„ä¾‹å­ï¼Œå…¶å®å°±æ˜¯æŠŠé«˜æ¬¡å¹‚å…¨éƒ¨æ‹†æˆä¸€æ¬¡å’ŒäºŒæ¬¡çš„`ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œé™åˆ¶äºŒæ¬¡é¡¹ï¼ˆ2 çº§ï¼‰çš„è¡¨è¾¾å¼ä¸º

$(aâ‚ â€¢ zâ‚ + â€¦ + aáµ£ â€¢ záµ£) â€¢ (bâ‚ â€¢ zâ‚ + â€¦ + báµ£ â€¢ záµ£)$

è¿™å°±æ˜¯ç§© 1 åç§°çš„ç”±æ¥ã€‚å°†çº¿æ€§é¡¹ç§»è‡³å³ä¾§ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ä»¥ä¸‹å½¢å¼çš„æ–¹ç¨‹

$(aâ‚ â€¢Â zâ‚ + â€¦ +Â aáµ£ â€¢Â záµ£) â€¢ (bâ‚ â€¢Â zâ‚ + â€¦ +Â báµ£ â€¢Â záµ£) =Â câ‚ â€¢Â zâ‚ + â€¦ +Â cáµ£ â€¢Â záµ£$

ç³»æ•°æ˜¯ $aâ‚ï¼Œ...ï¼Œaáµ£ï¼Œbâ‚ï¼Œ...ï¼Œbáµ£ï¼Œcâ‚ï¼Œ...ï¼Œcáµ£$ã€‚è¿™äº›ç³»æ•°ä¸­çš„å¤§éƒ¨åˆ†å°†å‡å®šä¸ºé›¶ï¼Œå› æ­¤å¤šé¡¹å¼æ˜¯ç¨€ç–çš„ã€‚

è¯·æ³¨æ„ï¼Œè¿™åªæ˜¯å¤šé¡¹å¼ä¹‹ä¸€ã€‚ä¸ºäº†å®šä¹‰è¿ç®—ç”µè·¯ï¼Œæˆ‘ä»¬å…è®¸ä½¿ç”¨å¤šä¸ªè¿™ç§å½¢å¼çš„å¤šé¡¹å¼ï¼š

$(aáµ¢,â‚ â€¢Â zâ‚ + â€¦ +Â aáµ¢,áµ£ â€¢Â záµ£) â€¢ (báµ¢,â‚ â€¢Â zâ‚ + â€¦ +Â báµ¢,â‚ â€¢Â záµ£) + (cáµ¢,â‚ â€¢Â zâ‚ + â€¦ +Â cáµ¢,â‚ â€¢Â záµ£) = 0$

# **Notation and terminology, instances and witnesses**

æœ¯è¯­ï¼š

A bit of terminology and notation before we move on: A particular choice of public input and output (a choice ofÂ *x*â‚*,â€¦, x*â‚™*,*Â ğ’´â‚*,â€¦,*Â ğ’´â‚˜) is called an instance (we will sometimes denote it byÂ *I*) and this instance is said to be satisfied by a corresponding witnessÂ *W*Â in case all quadratic equations hold. `æ»¡è¶³çº¦æŸçš„è¾“å…¥å’Œè¾“å‡ºè¢«å«åšinstance`

å› æ­¤ï¼Œæˆ‘ä»¬å°†ä»¥ (1, I, W) çš„å½¢å¼æ¥ä¹¦å†™å‘é‡ zã€‚ç³»æ•° aáµ¢ã€bâ±¼ã€câ‚– å¯ä»¥è¯´æ˜¯å®šä¹‰äº†ä¸€ä¸ªç»“æ„ï¼Œä¸è¾“å…¥/è¾“å‡ºç›¸å¯¹åº”çš„å˜é‡å¯ä»¥çœ‹ä½œæ˜¯ç»™å‡ºå„ç§å®ä¾‹çš„å‚æ•°ã€‚æˆ‘ä»¬ä¸éœ€è¦å†™å‡ºçº¿æ€§ç»„åˆï¼ˆè®°ä½æœ‰å¤šä¸ªçº¿æ€§ç»„åˆï¼Œæ¯ä¸ªæ–¹ç¨‹ä¸€ä¸ªï¼‰ï¼Œè€Œæ˜¯ç”¨ä»¥ä¸‹ç¬¦å·è¡¨ç¤º

$aáµ¢,â‚ â€¢Â zâ‚ + â€¦ +Â aáµ¢,áµ£ â€¢Â záµ£,Â báµ¢,â‚ â€¢Â zâ‚ + â€¦ +Â báµ¢,â‚ â€¢Â záµ£$ andÂ $cáµ¢,â‚ â€¢Â zâ‚ + â€¦ +Â cáµ¢,â‚ â€¢Â záµ£$ byÂ $A(Z),Â B(Z) andÂ C(Z)$ respectively.Â å› æ­¤ï¼ŒA å°†ä¸€ä¸ªå‘é‡ Z æ˜ å°„æˆä¸€ä¸ªå‘é‡ï¼Œä¸æ–¹ç¨‹çš„å„ç§çº¿æ€§ç»„åˆç›¸å¯¹åº”ã€‚å¦‚æœä½ å–œæ¬¢çŸ©é˜µç¬¦å·ï¼Œå¯ä»¥å°† A è§†ä¸ºä¸€ä¸ªçŸ©é˜µï¼Œå…¶ä¸­æ¯ä¸€è¡Œéƒ½ç”±å…¶ä¸­ä¸€ä¸ªæ–¹ç¨‹çš„ç³»æ•°ï¼ˆaâ‚, ..., aáµ£ï¼‰ç»™å‡ºï¼Œ `è€Œ A(Z) å®é™…ä¸Šæ˜¯è¿™ä¸ªçŸ©é˜µä¸ z çš„åˆ—å‘é‡ $z_i$ç›¸ä¹˜`(è¿™é‡Œç»“æœAï¼ˆZï¼‰åº”è¯¥æ˜¯ä¸€ä¸ªåˆ—å‘é‡)ã€‚ `ç”±äº A ç”±ä¸€ç³»åˆ—çº¿æ€§ç»„åˆç»„æˆï¼Œå› æ­¤å®ƒæ˜¯çº¿æ€§çš„`ï¼Œå³æˆ‘ä»¬æœ‰: 

$AÂ (uÂ â€¢Â ZÂ +Â vÂ â€¢Â Zâ€™) =Â uÂ â€¢Â A(Z) +Â vÂ â€¢Â A(Zâ€™)$
B,CåŒç†ã€‚ `ä¸Šé¢è¿™ä¸ªçº¿æ€§ç»„åˆæ˜¯é€šè¿‡æ‹‰æ ¼æœ—æ—¥æ’å€¼å®Œæˆ`

æ‰¾äº†ä¸ªä¾‹å­ [https://snowolf0620.xyz/index.php/zkp/435.html](https://snowolf0620.xyz/index.php/zkp/435.html)  è¿˜æ˜¯Vç¥ä¹‹å‰é‚£ä¸ªä¾‹å­å¥½åƒ

```rust
def qeval(x):
    y=x**3
    return y+x+5
```

å…ˆå¯¹æ¯ä¸€ä¸ªé€»è¾‘é—¨éƒ½åšäº† `r1cs`å¤„ç†ï¼š

![Untitled](Part%20III%20Nova%20and%20Folding%20(1%202)%200afe3fb4796c45c7b49d47ea04d4fa62/Untitled.png)

æœ€ç»ˆå¾—åˆ°çš„çŸ©é˜µï¼š

![Untitled](Part%20III%20Nova%20and%20Folding%20(1%202)%200afe3fb4796c45c7b49d47ea04d4fa62/Untitled%201.png)

æ¥ç€å®Œæˆ r1csåˆ°QAP

`ä¾‹å­ä¸­æ˜¯å°†æ¯ä¸ªå‘é‡ç»„çš„å››ä¸ªé•¿åº¦ä¸º 6 çš„è¡Œå‘é‡è½¬æ¢æˆå…­ä¸ªé•¿åº¦ä¸º 4 çš„å‘é‡ï¼ˆå…­ä¸ªé˜¶ä¸º 3 çš„å¤šé¡¹å¼ï¼‰`

ä»¥å‘é‡ç»„ A ä¸¾ä¾‹ï¼Œé¦–å…ˆéœ€è¦æ±‚å‡ºå››ä¸ªçº¦æŸæ‰€å¯¹åº”çš„æ¯ä¸ªaÂ å‘é‡çš„ç¬¬ä¸€ä¸ªå€¼çš„å¤šé¡¹å¼ï¼Œä¹Ÿå°±æ˜¯å¯¹å‘é‡ç»„ A çš„ç¬¬ä¸€åˆ—é‡‡ç”¨æ‹‰æ ¼æœ—æ—¥æ’å€¼æ³•ï¼Œæ±‚è¿‡ç‚¹ $(1,0),(2,0),(3,0),(4,5)$Â å››ä¸ªç‚¹çš„å¤šé¡¹å¼ï¼ˆå¯ä»¥ç”¨åœ¨çº¿å·¥å…·Â [planetcalc](https://zh.planetcalc.com/8692/)Â æ±‚è§£ï¼Œæˆ–è€…è‡ªå·±å†™è„šæœ¬ä¹Ÿè¡Œï¼‰ï¼Œæ±‚å¾—ä¸‰é˜¶å¤šé¡¹å¼å¦‚ä¸‹

$y_1 = -5+9.166x-5x^2+0.833x^3$

æœ€ç»ˆè½¬åŒ–çš„çŸ©é˜µ

![Untitled](Part%20III%20Nova%20and%20Folding%20(1%202)%200afe3fb4796c45c7b49d47ea04d4fa62/Untitled%202.png)

R1CSæ˜¯å‘é‡å†…ç§¯

QAPåˆ™æ˜¯ç”¨å¤šé¡¹å¼

###############

ç°åœ¨ A(Z)ã€B(Z) å’Œ C(Z) éƒ½æ˜¯å‘é‡ï¼ˆç”±å„ç§çº¿æ€§ç»„åˆç»„æˆï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ–¹ç¨‹æ”¹å†™ä¸º

$A(Z) â—‹Â B(Z) =Â C(Z)$

å…¶ä¸­ï¼ŒA(Z) â—‹ B(Z) è¡¨ç¤ºå‘é‡ A(Z) å’Œ B(Z)çš„åˆ†é‡ä¹˜ç§¯ï¼Œå³å®ƒæ˜¯ä¸€ä¸ªå‘é‡ï¼Œå…¶ç¬¬ i é¡¹æ˜¯ A(Z) çš„ç¬¬ i é¡¹ä¸ B(Z) çš„ç¬¬ i é¡¹çš„ä¹˜ç§¯ã€‚é¡ºä¾¿æä¸€ä¸‹ï¼Œè¿™ç§è¿ç®—ä¹Ÿè¢«ç§°ä¸ºå“ˆè¾¾ç›ä¹˜ç§¯ `Hadamard product`ã€‚

æœ€åï¼Œå¦‚æœæˆ‘ä»¬æƒ³å°† Z åˆ†ç¦»æˆå®ä¾‹ I å’Œè¯äºº W éƒ¨åˆ†ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶é‡å†™ä¸º

$A(1,Â I,Â W) â—‹Â B(1,Â I,Â W) =Â C(1,Â I,Â W)$

å¯¹äº IVCï¼Œå½“æˆ‘ä»¬éå†åŒä¸€ä¸ªå‡½æ•° F æ—¶ï¼Œæ¯ä¸€æ­¥çš„ç»“æ„éƒ½å°†ä¿æŒä¸å˜ï¼Œå› æ­¤æ¯ä¸€æ­¥çš„å¤šé¡¹å¼ç³»æ•° aáµ¢ã€bâ±¼ã€câ‚– éƒ½å°†ç›¸åŒã€‚è¾“å…¥å’Œè¾“å‡ºå°†å‘ç”Ÿå˜åŒ–ï¼Œä»è€Œäº§ç”Ÿä¸åŒçš„å®ä¾‹ã€‚

è®¡ç®—çš„ `æ¯ä¸€æ­¥`éƒ½æ˜¯ä¸Šè¿°ç±»å‹çš„äºŒæ¬¡å¤šé¡¹å¼æ–¹ç¨‹ç»„ã€‚æ¯ä¸€æ­¥çš„ç³»æ•°éƒ½æ˜¯ç›¸åŒçš„ï¼Œä½†è¾“å…¥å’Œè¾“å‡ºéƒ½ä¼šå‘ç”Ÿå˜åŒ–ï¼Œæ¯æ¬¡éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„å®ä¾‹ I ï¼Œå®ƒå°†æœ‰ä¸€ä¸ªè¯äºº Wï¼Œæˆ‘ä»¬å¿…é¡»ä¸ºå…¶æä¾›è¯æ˜ã€‚ `è¿™é‡Œæ˜¯è¯´ç´¯ç§¯ç®—æ³•çš„å‡½æ•°Fç›¸åŒï¼Œæ‰€ä»¥æ¯æ¬¡æ‰§è¡ŒFå°±æ˜¯ä¸€æ­¥ï¼Œæ‰€ä»¥æ¯ä¸€æ­¥çš„ç³»æ•°éƒ½æ˜¯ç›¸åŒçš„ï¼Œä½†æ˜¯ç”±äºæ‰§è¡Œå‡½æ•°çš„è¾“å…¥è¾“å‡ºä¸åŒï¼Œæ‰€ä»¥å®ä¾‹å°±ä¼šä¸åŒï¼Œé‚£ä¹ˆè¯æ˜å°±ä¸åŒ`

æ—¢ç„¶çŸ¥é“äº†è¿™äº›æ­¥éª¤ï¼Œæˆ‘ä»¬ç»ˆäºå¯ä»¥è°ˆè°ˆå¦‚ä½•å°†å®ƒä»¬ç»„åˆï¼ˆæŠ˜å ï¼‰åœ¨ä¸€èµ·äº†ã€‚

# **The core idea: folding**

å‡è®¾æˆ‘ä»¬è¦æŠ˜å ä¸¤ä¸ªç»“æ„ç›¸åŒçš„ R1CS å®ä¾‹ã€‚è®©æˆ‘ä»¬æ¥è§£å¼€è¿™ä¸ªé—®é¢˜ã€‚

å‡è®¾æˆ‘ä»¬ç”¨ä¸€ä¸ª R1CS ç»“æ„ï¼Œå³ä¸€ä¸ªç‰¹å®šå½¢å¼çš„äºŒæ¬¡æ–¹ç¨‹ç»„ï¼Œæ¥è¡¨ç¤ºä¸€æ­¥è®¡ç®—ï¼š

$A(Z) â—‹Â B(Z) =Â C(Z)$

è¿™ç§è®¡ç®—æœ‰ä¸¤ä¸ªæ­¥éª¤ï¼ˆè¾“å…¥å’Œè¾“å‡ºä¸åŒï¼‰ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬æœ‰ä¸¤ä¸ªå®ä¾‹ã€‚.å› æ­¤ï¼Œæœ‰ä¸€äº›å®ä¾‹ Iâ‚å’Œ Iâ‚‚ï¼Œè¯æ˜è€…æœ‰è¯äºº Wâ‚ å’Œ Wâ‚‚ã€‚è¯æ˜è€…å¸Œæœ›è®©éªŒè¯è€…ç›¸ä¿¡ï¼Œå®ƒçŸ¥é“è¯äºº Wâ‚ å’Œ Wâ‚‚ï¼Œä»è€Œæ»¡è¶³ä»¥ä¸‹ä¸¤ä¸ªç³»ç»Ÿï¼ˆæ¯ä¸ªç³»ç»ŸéªŒè¯ä¸€ä¸ªæ­¥éª¤ï¼Œå¯¹åº”ä¸€ä¸ªä¸åŒçš„å®ä¾‹ï¼Œå³è¾“å…¥-è¾“å‡ºï¼‰çš„è¦æ±‚ï¼š

$A(1, I_1, W_1) â—‹ B(1, I_1, W_1) = C(1, I_1, W_1)$

$A(1, I_2, W_2) â—‹ B(1, I_2, W_2) = C(1, I_2, W_2)$

ç°åœ¨ï¼ŒæŠ˜å çš„ç†å¿µæ˜¯è¯æ˜è€…åº”è¯¥èƒ½å¤Ÿæå‡º `æ–°çš„å®ä¾‹ I å’Œç›¸åº”çš„è¯äºº W`ï¼ˆå¯¹äºç›¸åŒçš„ R1CS ç»“æ„ï¼Œå³ç›¸åŒçš„ Aã€Bã€Cï¼‰ï¼Œè¿™æ ·ï¼Œå¦‚æœè¯æ˜è€…èƒ½å¤Ÿè®©éªŒè¯è€…ç›¸ä¿¡å®ƒçŸ¥é“å®ä¾‹ I çš„è¯äºº Wï¼Œé‚£ä¹ˆéªŒè¯è€…å°±ä¼šç›¸ä¿¡è¯æ˜è€…çŸ¥é“å®ä¾‹ Iâ‚ å’Œ Iâ‚‚ çš„è¯äºº Wâ‚ å’Œ Wâ‚‚ã€‚å› æ­¤ï¼Œä»æŸç§æ„ä¹‰ä¸Šè¯´ï¼Œè¯æ˜è€…ä¸ºåŒä¸€ä¸ªè®¡ç®—ï¼ˆå®ä¾‹ Iï¼‰æä¾›äº†å‡æƒ³çš„è¾“å…¥å’Œè¾“å‡ºï¼Œå¦‚æœè¯æ˜è€…èƒ½è®©éªŒè¯è€…ç›¸ä¿¡å®ƒæœ‰ä¸€äº›è¯äººï¼Œå¹¶ä»¥è¿æ¥äººå·¥è¾“å…¥å’Œè¾“å‡ºçš„æ–¹å¼æ­£ç¡®æ‰§è¡Œäº†è®¡ç®—æ­¥éª¤ï¼ŒéªŒè¯è€…å°±ä¼šç›¸ä¿¡ä¸¤ä¸ªåˆå§‹çš„çœŸå®è¾“å…¥è¾“å‡ºå¯¹ä¹Ÿæ˜¯å¦‚æ­¤ã€‚

# **If life were easyâ€¦**

ä¸ºäº†ç†è§£æŠ˜å èƒŒåçš„åŸç†ï¼Œæˆ‘ä»¬ä¸å¦¨ç®€å•åœ°å‡è®¾æ–¹ç¨‹æ˜¯çº¿æ€§çš„ï¼Œè€Œä¸”åªæœ‰ä¸€ä¸ªï¼ˆå¦‚æœæœ‰å¤šä¸ªæ–¹ç¨‹ï¼Œåªéœ€å¯¹æ¯ä¸ªæ–¹ç¨‹åº”ç”¨ç›¸åŒçš„æ¨ç†å³å¯ï¼‰ã€‚å› æ­¤ï¼Œæˆ‘ä»¬æœ‰è¿™æ ·ä¸€ä¸ªæ–¹ç¨‹

$aâ‚ â€¢Â zâ‚ + â€¦ +Â aáµ£ â€¢Â záµ£ =Â câ‚ â€¢Â zâ‚ + â€¦ +Â cáµ£ â€¢Â záµ£$

æˆ–è€…ï¼Œå°†æ‰€æœ‰æœ¯è¯­é›†ä¸­åœ¨ä¸€è¾¹

$D(z) = dâ‚â€¢ zâ‚ + â€¦ + dáµ£ â€¢ záµ£ = 0 \ for \ some \ dâ‚, â€¦, dáµ£$

ä¸ºç®€å•èµ·è§ï¼Œå†æ¬¡å‡è®¾ dâ‚ = 0ï¼Œå®ä¾‹é•¿åº¦ä¸º 2ï¼ˆè¾“å…¥å’Œè¾“å‡ºé•¿åº¦å‡ä¸º 1ï¼‰ï¼Œå› æ­¤å®ƒä»¬æ˜¯ (x, y) å½¢å¼ï¼Œè¯äººé•¿åº¦ä¸º 1ï¼Œå› æ­¤å®ƒä»¬ç”±ä¸€ä¸ªå­—æ®µå…ƒç´ ğ‘¤ ç»„æˆã€‚æ‰€ä»¥ r = 4ã€‚å‡è®¾æœ‰ä¸¤ä¸ªå®ä¾‹ (x, y) å’Œ (x', y')ï¼Œå®ƒä»¬æœ‰ç›¸åº”çš„è¯äººğ‘¤ å’Œğ‘¤'ï¼Œå› æ­¤  `è¿™é‡Œæ²¡çœ‹æ‡‚`

$dâ‚‚ â€¢ x + dâ‚‚ â€¢ y + dâ‚ƒ â€¢ ğ‘¤ = 0 \ \ and \ \ dâ‚‚ â€¢ xâ€™ + dâ‚‚ â€¢ yâ€™ + dâ‚ƒ â€¢ ğ‘¤â€™ = 0$

æˆ‘ä»¬æƒ³æŠŠè¿™ä¸¤ä¸ªå®ä¾‹æŠ˜å æˆä¸€ä¸ªï¼Œè¿™æ ·ï¼Œèƒ½å¤Ÿä¸ºæŠ˜å åçš„å®ä¾‹æä¾›è¯äººçŸ¥è¯†è¯æ˜çš„è¯æ˜è€…å°±èƒ½è®©éªŒè¯è€…ç›¸ä¿¡ï¼Œå®ƒä¹Ÿèƒ½ä¸ºä¸¤ä¸ªåˆå§‹å®ä¾‹æä¾›è¯æ˜ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬åˆ©ç”¨äº†éšæœºæ€§çš„åŠ›é‡ï¼šéªŒè¯è€…å°†å‘è¯æ˜è€…æå‡ºæŒ‘æˆ˜ï¼Œè¦æ±‚è¯æ˜å®ƒçŸ¥é“ä¸¤ä¸ªå®ä¾‹éšæœºçº¿æ€§ç»„åˆçš„è¯äººã€‚å› æ­¤ï¼ŒéªŒè¯è€…å°†å‘é€ä¸€ä¸ªéšæœº Rï¼Œå¹¶è¦æ±‚è¯æ˜è€…è¯æ˜å®ƒçŸ¥é“è¾“å…¥ $x + R \cdot x'$ å’Œè¾“å‡º $y + R \cdot y'$ï¼Œå³å®ä¾‹ $ï¼ˆx + R \cdot x'ï¼Œy + R \cdot y'ï¼‰$çš„è§è¯äººã€‚

***ä¸ºä»€ä¹ˆçŸ¥é“è¯äººğ‘¤ å’Œğ‘¤'çš„è¯šå®è¯æ˜è€…å¯ä»¥è§£å†³è¿™ä¸ªéš¾é¢˜ï¼Ÿ***

è¿™ä»…ä»…æ˜¯å› ä¸ºæ–¹ç¨‹çš„çº¿æ€§å…³ç³»ã€‚ç›¸åŒçš„çº¿æ€§ç»„åˆè§è¯å°†æ˜¯å®ä¾‹çš„çº¿æ€§ç»„åˆè§è¯ã€‚è¦çœ‹åˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦æ£€æŸ¥:

$dâ‚‚ â€¢ (xÂ +Â RÂ â€¢Â xâ€™) + dâ‚‚ â€¢ (yÂ +Â RÂ â€¢Â yâ€™) + dâ‚ƒ â€¢ (ğ‘¤ +Â RÂ + ğ‘¤â€™) = 0$

é‡æ–°æ’åºåï¼Œå˜æˆ

$dâ‚‚ â€¢Â xÂ +Â dâ‚‚ â€¢Â y + dâ‚ƒ â€¢ ğ‘¤ +Â RÂ â€¢ (dâ‚‚ â€¢Â xâ€™Â +Â dâ‚‚ â€¢Â yâ€™Â +Â dâ‚ƒ â€¢ ğ‘¤â€™) = 0 +Â RÂ â€¢ 0 = 0$

æˆ–è€…ï¼Œç”±äº D(Z) æ˜¯çº¿æ€§çš„ï¼Œæˆ‘ä»¬æœ‰

$D((x,Â y, ğ‘¤) +Â RÂ â€¢ (xâ€™,Â yâ€™,Â ğ‘¤â€™)) =Â D(x,Â y, ğ‘¤) +Â RÂ â€¢Â D(xâ€™,Â yâ€™,Â ğ‘¤â€™) = 0 +Â RÂ â€¢ 0 = 0$

è¿™ä¸€ç‰¹æ€§è¢«ç§°ä¸ºå®Œå¤‡æ€§ã€‚ `ç®€å•ç‚¹è¯´å°±æ˜¯è¯æ˜è€…çŸ¥é“æ­£ç¡®è§£ï¼Œå°±ä¸€å®šä¼šè®©éªŒè¯è€…ç›¸ä¿¡å°±æ˜¯å®Œå¤‡æ€§`

***ä¸ºä»€ä¹ˆä¸çŸ¥é“è¯æ˜ğ‘¤ å’Œ ğ‘¤'çš„ä¸è¯šå®è¯æ˜è€…ä¸èƒ½è§£å†³è¿™ä¸ªéš¾é¢˜å‘¢ï¼Ÿ***

è¿™è¿˜æ˜¯å› ä¸ºçº¿æ€§å…³ç³»ï¼å¦‚æœè¯æ˜è€…å¯ä»¥å›ç­”éšæœºæŒ‘æˆ˜ï¼Œé‚£ä¹ˆå®ƒå°±å¯ä»¥é’ˆå¯¹å¤šä¸ªå®ä¾‹ï¼ˆé’ˆå¯¹å¤šä¸ªéšæœº Râ‚ã€Râ‚‚......ï¼‰è¿™æ ·åšã€‚ç„¶åï¼Œè¯æ˜è€…å¯ä»¥ä»å‡ ä¸ªç›¸åº”çš„è¯äººğ‘¤â‚ã€ğ‘¤â‚‚......ä¸­æ‰¾åˆ°è¯äººğ‘¤å’Œğ‘¤'ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä»æŒ‘æˆ˜çš„è§£ç­”ä¸­æå–å‡ºåˆå§‹å®ä¾‹çš„è§è¯ã€‚åˆ©ç”¨è¿™ä¸ªä¸è¯šå®çš„è¯æ˜è€…ï¼Œå®é™…ä¸Šå°±å¯ä»¥é»‘è¿›ç³»ç»Ÿï¼

è¿™ä¸€ç‰¹æ€§è¢«ç§°ä¸ºçŸ¥è¯†å¥å£®æ€§ã€‚ `è¯æ˜è€…ä¸çŸ¥é“è§£ï¼ŒéªŒè¯è€…èƒ½åˆ†è¾¨å«å¥å£®æ€§ã€‚`

# **â€¦ but life is not always easy**

æˆ‘ä»¬å·²ç»çœ‹åˆ°äº†å¦‚ä½•åœ¨ä¸€ä¸ªè‰¯å¥½çš„çº¿æ€§ä¸–ç•Œä¸­è¿›è¡ŒæŠ˜å ã€‚å¢åŠ è¾“å…¥è¾“å‡ºå¹¶ä¸ä¼šå¢åŠ å¤šå°‘éš¾åº¦ï¼Œåªä¼šå¢åŠ æ›´å¤šçš„ç¬¦å·ã€‚

å¢åŠ æ›´å¤šæ–¹ç¨‹ä¹Ÿå¯ä»¥é€šè¿‡å•ç‹¬å¤„ç†æ‰€æœ‰æ–¹ç¨‹ï¼ˆæ‰€æœ‰æ–¹ç¨‹éƒ½æ˜¯çº¿æ€§çš„ï¼‰æ¥è¿›è¡Œç±»ä¼¼å¤„ç†ã€‚ä½†é—æ†¾çš„æ˜¯ï¼Œæˆ‘ä»¬èƒ½ç”¨çº¿æ€§çº¦æŸè¡¨è¾¾çš„å†…å®¹éå¸¸æœ‰é™ï¼Œè€Œä¸€å…ƒäºŒæ¬¡æ–¹ç¨‹ï¼ˆå°¤å…¶æ˜¯ R1CSï¼‰å¹¶ä¸æ˜¯çº¿æ€§çš„ã€‚å’Œçš„å¹³æ–¹ä¸ç­‰äºå¹³æ–¹ä¹‹å’Œï¼ˆé—®é—®æ¯•è¾¾å“¥æ‹‰æ–¯å°±çŸ¥é“äº†ï¼ï¼‰ã€‚

æ­¤å¤–ï¼Œå¦‚æœ aâ‚ â‰  0ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¿˜å¿…é¡»è·Ÿè¸ªå˜é‡ zâ‚ çš„å˜åŒ–æƒ…å†µã€‚ç‰¹åˆ«æ˜¯ï¼Œzâ‚ = 1 å’Œ z'â‚ = 1 å¾—åˆ° $zâ‚ + R \cdot z'â‚ = 1 + R$ çš„çº¿æ€§ç»„åˆï¼Œè¿™ä¸æ»¡è¶³ R1CS çº¦æŸæ¡ä»¶ã€‚  `è¿™ä¸ªæŒºé‡è¦çš„ï¼Œå¸¸æ•°é¡¹æ˜¯æœ‰å½±å“çš„`

# **Just relax!**

ä½†ä¹Ÿå¹¶éå…¨ç›˜çš†è¾“ã€‚Kothapalliã€Setty å’Œ Tzialla è¯æ˜äº†å¦‚ä½•æ”¾å®½ R1CS çº¦æŸçš„å®šä¹‰ï¼ˆä»–ä»¬ç§°ä¹‹ä¸ºå®½æ¾çš„ R1CSï¼‰æ¥æŒ½æ•‘è¿™ä¸€ç‚¹ã€‚

æˆ‘ä»¬æœ‰

$A(Z)â—‹B(Z) = A(Z_1 + r â€¢ Z_2) â—‹ B(Z_1 + r â€¢ Z_1)  \\= A(Z_1) â—‹ B(Z_1) +r(A(Z_1)â—‹B(Z_2)+A(Z_2)â—‹B(Z_1))+r^2(A(Z_2)â—‹B(Z_2))$

å› æ­¤ï¼Œé—®é¢˜åœ¨äº

- ç¬¬ä¸‰é¡¹ä¸­çš„ç³»æ•° RÂ² åº”è¯¥æ˜¯ Rï¼›
- ä¸åº”å‡ºç°æ··åˆé¡¹ Rï¼ˆA(Z) â—‹ B(Z')+A(Z')â—‹ B(Z)ï¼‰
- æˆ‘ä»¬å¸Œæœ›æ”¾å®½ç¬¬ä¸€é¡¹ zâ‚ åº”ä¸º 1 çš„æ¡ä»¶ã€‚

é€šè¿‡åœ¨å®ä¾‹ä¸­æ·»åŠ é¢å¤–çš„å‚æ•°ï¼Œå¯ä»¥å®ç°æ¾å¼›ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬åœ¨ R1CS ç»“æ„å‰å¢åŠ äº†ä¸€ä¸ªæ–°çš„å› å­ uï¼Œä»¥å¸æ”¶é¢å¤–çš„ R å› å­ï¼Œå¹¶å¢åŠ äº†ä¸€ä¸ªè¯¯å·®ï¼ˆ"æ¾å¼›"ï¼‰å‘é‡ï¼Œä»¥è€ƒè™‘æ··åˆé¡¹ã€‚

å› æ­¤ï¼š

- å®½æ¾çš„ R1CS ç»“æ„é€šå¸¸ç”± Aã€B å’Œ C ç»„æˆï¼›
- R1CS å®ä¾‹ I ç”±å…¬å…±è¾“å…¥ x = (xâ‚,..., xâ‚™)ã€ğ’´ = (ğ’´â‚,..., ğ’´â‚˜)ç»„æˆï¼Œå°†é€šè¿‡æ·»åŠ æ ‡é‡ u å’Œè¯¯å·®å‘é‡ E æ¥å®½æ¾ï¼›
- çŸ¢é‡ Z æ”¾å®½ä¸ºï¼ˆuã€Iã€Wï¼‰ï¼Œå…è®¸ u ä»£æ›¿ 1 ä½œä¸ºç¬¬ä¸€ä¸ªæ¡ç›®ï¼›ä»¥åŠ
- æ–¹ç¨‹ç»“æ„æ”¾å®½ä¸º $A(Z) â—‹ B(Z) = u \cdot C(Z) + E$ã€‚

ç°åœ¨ï¼Œå¦‚æœ Wâ‚ æ˜¯å®½æ¾ R1CS å®ä¾‹  $Iâ‚, Eâ‚, uâ‚$ çš„è§è¯è€…ï¼Œè€Œ Wâ‚‚ æ˜¯å®½æ¾ R1CS å®ä¾‹ $I_2, E_2, u_2$ çš„è§è¯è€…ã€æˆ‘ä»¬ç¡®å®å¯ä»¥å–å®ä¾‹ Iâ‚ å’Œ Iâ‚‚ çš„çº¿æ€§ç»„åˆ $I = Iâ‚ + R - Iâ‚‚$ï¼Œå¦‚æœæˆ‘ä»¬å¯¹å®ä¾‹ I çš„ u å’Œ E è¿›è¡Œé€‚å½“å®šä¹‰ï¼Œåˆ™ $W = Wâ‚ + R - Wâ‚‚$ å°†æ»¡è¶³è¿™ä¸€è¦æ±‚ã€‚å¯¹äº $Z = (uâ‚, Iâ‚, Wâ‚)$å’Œ $Z' = (uâ‚‚, Iâ‚‚, Wâ‚‚)$ï¼ŒæŠ˜å æ—¶è·å¾— æ–°æ ‡é‡å’Œæ¾å¼›å‘é‡ `new scalar and slack vector`çš„æ­£ç¡®æ–¹æ³•å¦‚ä¸‹ï¼š

$uÂ =Â uâ‚ +Â RÂ â€¢Â uâ‚‚$

$E = Eâ‚ + r â€¢ (A(Z_1) â—‹ B(Z_2) + A(Z_2) â—‹ B(Z_1) â€” uâ‚C(Z_2)â€” uâ‚‚C(Z_1)) + r^2 â€¢ E_2$

åˆ©ç”¨å®½æ¾å‘é‡ï¼Œæˆ‘ä»¬ä½¿ç‰¹å®šçš„äºŒæ¬¡è¡¨è¾¾å¼ï¼ˆR1CSï¼‰è¡¨ç°å¾—åƒçº¿æ€§è¡¨è¾¾å¼ä¸€æ ·ã€‚æˆ‘ä»¬è®©è¯»è€…è‡ªå·±æ£€æŸ¥æŠ˜å æ˜¯å¦çœŸçš„æœ‰æ•ˆã€‚å…³äºæ›´å¤šç»†èŠ‚ã€å®Œæ•´æ€§å’ŒçŸ¥è¯†åˆç†æ€§ï¼Œè¯·å‚é˜…åŸå§‹è®ºæ–‡ã€‚

# å®šä¹‰

1. é¦–æ¬¡æ„é€ â€”â€”R1CSæ„é€ 
    
    proverå‘é€ $W_1$å’Œ $W_2$,verifieréšæœºé€‰æ‹© $r \in F$ä½œä¸ºå›å¤
    
    $x=x_1+r \cdot x_2$
    
    $W=W_1+ r \cdot W_2$
    
    è®¡ç®—æ–°çš„instance-witnesså¯¹ï¼š $(x,W)$
    
    æ­¤æ—¶å¯¹äº $Z_1=(W_1,x_1,1)$ã€ $Z_2 = (W_2,x_2,1)$ ã€ $Z=(W,x,1)$æœ‰
    
    $A(Z)â—‹B(Z) = A(Z_1 + r â€¢ Z_2) â—‹ B(Z_1 + r â€¢ Z_2)  \\= A(Z_1) â—‹ B(Z_1) +r(A(Z_1)â—‹B(Z_2)+A(Z_2)â—‹B(Z_1))+r^2(A(Z_2)â—‹B(Z_2)) \\ \neq C(Z)$
    
2. ç»§ç»­æ„é€ â€”â€”releaxed RlCS
    
    releaxed RlCSå®šä¹‰: $( A , B , C , m , n , l )$ï¼Œå…¶ä¸­ $m ã€ n ã€ l$ä¸ºæ­£æ•´æ•°ï¼Œä¸” $m > l$ , $A , B , C âˆˆ F^{m Ã— m}$
    ä¸”è‡³å¤šæœ‰nä¸ªnon-zero entriesï¼Œç»™å®šwitness $W âˆˆ F^{m âˆ’ l âˆ’ 1}$ ,relaxed R1CSæ»¡è¶³
    $A  (Z) \circ B  (Z) = u \cdot C ( Z) + E$
    å…¶ä¸­ $Z=(W,x,u)$, $x \in F^l$, $E \in F^m$, $u \in F$
    
    è¿™é‡Œå½“ $u=1,E=0$ï¼Œ relaxed R1CSå°±ç­‰äºR1CS
    
    **ç»§ç»­æ„é€ ï¼Œæ­¤æ—¶å¯¹äº** $Z_i=(W_I,x_i,u_i)$,proverå’Œverifieréœ€è¦é¢å¤–è®¡ç®—
    
    $u=u_1+r \cdot u_2$
    
    $E = Eâ‚ + r â€¢ (A(Z_1) â—‹ B(Z_2) + A(Z_2) â—‹ B(Z_1) â€” uâ‚C(Z_2)â€” uâ‚‚C(Z_1)) + r^2 â€¢ E_2$
    
    è®¡ç®—æ–°çš„instance-witnesså¯¹ï¼š $((E,u,X),W)$
    
    å¯¹äº $Z=(W,x,u),r \in F$ æœ‰
    
    $A(Z)â—‹B(Z)  = A(Z_1) â—‹ B(Z_1) +r(A(Z_1)â—‹B(Z_2)+A(Z_2)â—‹B(Z_1))+r^2(A(Z_2)â—‹B(Z_2)) \\ =ï¼ˆu_1C(Z_1)+E_1ï¼‰+ r(A(Z_1)â—‹B(Z_2)+A(Z_2)â—‹B(Z_1))+r^2(u_2C(Z_2)+E_2) \\=(u_1+ru_2) \cdot C(Z_1+r Z_2)+E\\=uC(Z)+E$
    
    ä¸Šé¢å‘çš„éƒ½æ˜¯æ˜æ–‡ $W1,W2$,åé¢ **`committed relaxed R1CS`** å‘commitment